{"ast":null,"code":"import React from\"react\";import{AuthService}from\"../api/AuthService\";import{useNavigate}from\"react-router-dom\";import{useUser}from\"../context/UserContext\";import DiffieHellmanService from\"../api/DiffieHellmanService\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const{setUser,user}=useUser();const handleLogin=async e=>{e.preventDefault();try{const credentials=await AuthService.enterPool();const{publicKey,secret}=DiffieHellmanService.handleGenerateKeys();setUser({jwt:credentials.token,nickname:credentials.nickname,publicKey,secretKey:String(secret)});navigate(\"/messenger\");}catch(error){console.error(\"Login failed:\",error);alert(\"Login failed, please check your credentials.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"w-full max-w-md p-8 space-y-4 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-center\",children:\"PrivChat\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full p-2 font-semibold text-white bg-blue-500 rounded hover:bg-blue-600\",children:\"Enter\"})]})});};export default Login;","map":{"version":3,"names":["React","AuthService","useNavigate","useUser","DiffieHellmanService","jsx","_jsx","jsxs","_jsxs","Login","navigate","setUser","user","handleLogin","e","preventDefault","credentials","enterPool","publicKey","secret","handleGenerateKeys","jwt","token","nickname","secretKey","String","error","console","alert","className","children","onSubmit","type"],"sources":["/home/n/Desktop/temp/app/src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { AuthService } from \"../api/AuthService\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useUser } from \"../context/UserContext\";\nimport DiffieHellmanService from \"../api/DiffieHellmanService\";\n\nconst Login: React.FC = () => {\n  const navigate = useNavigate();\n\n  const { setUser, user } = useUser()\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const credentials = await AuthService.enterPool();\n\n      const {publicKey, secret} = DiffieHellmanService.handleGenerateKeys()\n      setUser({ jwt: credentials.token, nickname: credentials.nickname, publicKey, secretKey: String(secret) });\n\n      \n      navigate(\"/messenger\");\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      alert(\"Login failed, please check your credentials.\");\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n      <form onSubmit={handleLogin} className=\"w-full max-w-md p-8 space-y-4 bg-white rounded-lg shadow-md\">\n        <h2 className=\"text-2xl font-semibold text-center\">PrivChat</h2>\n \n  \n        <button type=\"submit\" className=\"w-full p-2 font-semibold text-white bg-blue-500 rounded hover:bg-blue-600\">\n          Enter\n        </button>\n      \n      </form>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAoB,OAAO,CACvC,OAASC,WAAW,KAAQ,oBAAoB,CAChD,OAAeC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,CAAAC,oBAAoB,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/D,KAAM,CAAAC,KAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAES,OAAO,CAAEC,IAAK,CAAC,CAAGT,OAAO,CAAC,CAAC,CAEnC,KAAM,CAAAU,WAAW,CAAG,KAAO,CAAAC,CAAkB,EAAK,CAChDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAAf,WAAW,CAACgB,SAAS,CAAC,CAAC,CAEjD,KAAM,CAACC,SAAS,CAAEC,MAAM,CAAC,CAAGf,oBAAoB,CAACgB,kBAAkB,CAAC,CAAC,CACrET,OAAO,CAAC,CAAEU,GAAG,CAAEL,WAAW,CAACM,KAAK,CAAEC,QAAQ,CAAEP,WAAW,CAACO,QAAQ,CAAEL,SAAS,CAAEM,SAAS,CAAEC,MAAM,CAACN,MAAM,CAAE,CAAC,CAAC,CAGzGT,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAE,MAAOgB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCE,KAAK,CAAC,8CAA8C,CAAC,CACvD,CACF,CAAC,CAED,mBACEtB,IAAA,QAAKuB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxEtB,KAAA,SAAMuB,QAAQ,CAAElB,WAAY,CAACgB,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAClGxB,IAAA,OAAIuB,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAGhExB,IAAA,WAAQ0B,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,2EAA2E,CAAAC,QAAA,CAAC,OAE5G,CAAQ,CAAC,EAEL,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}