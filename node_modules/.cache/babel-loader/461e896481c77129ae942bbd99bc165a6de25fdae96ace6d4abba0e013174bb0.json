{"ast":null,"code":"import React,{createContext,useContext,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const UserContext=/*#__PURE__*/createContext(undefined);export const UserProvider=_ref=>{let{children}=_ref;const[user,setUserState]=useState(null);const setUser=updatedFields=>{setUserState(prevUser=>{if(updatedFields===null)return null;if(prevUser===null)return{...updatedFields};return{...prevUser,...updatedFields};});};return/*#__PURE__*/_jsx(UserContext.Provider,{value:{user,setUser},children:children});};export const useUser=()=>{const context=useContext(UserContext);if(!context){throw new Error('useUser must be used within a UserProvider');}return context;};","map":{"version":3,"names":["React","createContext","useContext","useState","jsx","_jsx","UserContext","undefined","UserProvider","_ref","children","user","setUserState","setUser","updatedFields","prevUser","Provider","value","useUser","context","Error"],"sources":["/home/n/Desktop/temp/app/src/context/UserContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, ReactNode } from 'react';\n\ninterface User {\n  id: number;\n  nickname: string;\n  email?: string;\n  jwt: string;\n  secretKey: string\n  publicKey: string\n}\n\ninterface UserContextType {\n  user: User | null;\n  setUser: (user: Partial<User> | null) => void;\n}\n\nconst UserContext = createContext<UserContextType | undefined>(undefined);\n\ninterface UserProviderProps {\n  children: ReactNode;\n}\n\nexport const UserProvider: React.FC<UserProviderProps> = ({ children }) => {\n  const [user, setUserState] = useState<User | null>(null);\n\n  const setUser = (updatedFields: Partial<User> | null) => {\n    setUserState((prevUser) => {\n      if (updatedFields === null) return null;\n      if (prevUser === null) return { ...updatedFields } as User;\n\n      return { ...prevUser, ...updatedFields } as User;\n    });\n  };\n\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport const useUser = (): UserContextType => {\n  const context = useContext(UserContext);\n  if (!context) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,KAAmB,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAgB9E,KAAM,CAAAC,WAAW,cAAGL,aAAa,CAA8BM,SAAS,CAAC,CAMzE,MAAO,MAAM,CAAAC,YAAyC,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACpE,KAAM,CAACE,IAAI,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAc,IAAI,CAAC,CAExD,KAAM,CAAAU,OAAO,CAAIC,aAAmC,EAAK,CACvDF,YAAY,CAAEG,QAAQ,EAAK,CACzB,GAAID,aAAa,GAAK,IAAI,CAAE,MAAO,KAAI,CACvC,GAAIC,QAAQ,GAAK,IAAI,CAAE,MAAO,CAAE,GAAGD,aAAc,CAAC,CAElD,MAAO,CAAE,GAAGC,QAAQ,CAAE,GAAGD,aAAc,CAAC,CAC1C,CAAC,CAAC,CACJ,CAAC,CAED,mBACET,IAAA,CAACC,WAAW,CAACU,QAAQ,EAACC,KAAK,CAAE,CAAEN,IAAI,CAAEE,OAAQ,CAAE,CAAAH,QAAA,CAC5CA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,MAAO,MAAM,CAAAQ,OAAO,CAAGA,CAAA,GAAuB,CAC5C,KAAM,CAAAC,OAAO,CAAGjB,UAAU,CAACI,WAAW,CAAC,CACvC,GAAI,CAACa,OAAO,CAAE,CACZ,KAAM,IAAI,CAAAC,KAAK,CAAC,4CAA4C,CAAC,CAC/D,CACA,MAAO,CAAAD,OAAO,CAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}